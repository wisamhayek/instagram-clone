{"version":3,"file":"static/js/458.7e7d9852.chunk.js","mappings":"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","sources":["pages/sign-up.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { auth, db} from \"../lib/firebase\";\n\nimport \"./login-signup.css\";\nimport * as ROUTES from '../constants/routes';\n\nimport TextField from '@mui/material/TextField';\nimport IconButton from '@mui/material/IconButton';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport InputLabel from '@mui/material/InputLabel';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport FormControl from '@mui/material/FormControl';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport Button from '@mui/material/Button';\n\nimport {createUserWithEmailAndPassword,updateProfile} from \"firebase/auth\";\nimport {collection,addDoc} from \"firebase/firestore\";\n\n// ******** # Created By: \n// ********----->>>   UI - Tomas, Fuctionality - Wisam <<<-----********\n\nfunction Register() {\n\n    const [username,setUsername]=useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [fullName, setFullName] = useState(\"\");\n    const [user, loading, error] = useAuthState(auth);\n    const [errorHandle,setError] = useState(null)\n\n    const navigate = useNavigate();\n\n\n    const registerWithEmailAndPassword = async (username, fullName, email, password) => {\n        try {\n            await createUserWithEmailAndPassword(auth, email, password)\n            .then((x)=>{\n                // console.log(x);\n                // console.log(x.user);\n                //and Create new user for the database collection\n                addDoc(collection(db, \"users\"), {\n                    uid: x.user.uid,\n                    username: username.toLowerCase(),\n                    fullName,\n                    email: email.toLowerCase(),\n                    following: [],\n                    followers: [],\n                    dateCreated: Date.now()\n                })\n                // Update user display name\n                updateProfile(auth.currentUser, {\n                    displayName: username\n                })\n            })\n            .catch(function(error) {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                if (errorCode == 'auth/weak-password') {\n                    console.log('The password is too weak.');\n                    setError(\"The password is too weak.\");\n                } else {\n                    console.log(errorMessage);\n                    setError(errorMessage);\n                }\n            \n            });\n        } catch (err){\n            console.log(err);\n        }\n    };\n\n    useEffect(() => {\n        if (loading) return;\n        if (user){\n            setTimeout(navigate(ROUTES.DASHBOARD),2000);\n        } \n        if (error){\n            console.log(\"Error useEffect - Change in Authentication\");\n        }\n    }, [user, loading,errorHandle]);\n\n    useEffect(()=>{\n        document.title ='Sign Up - Instagram';\n    },[])\n\n\n    const isInvalid = password === '' || email === '' || username === '' || fullName === '';\n\n    //------->Handle show password visibility Start<-----------\n    const [values, setValues] = useState({\n        password: '',\n        showPassword: false,\n    });\n\n    const handleChange = (prop) => (event) => {\n        setValues({ ...values, [prop]: event.target.value });\n        setPassword(event.target.value)\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({\n        ...values,\n        showPassword: !values.showPassword,\n        });\n    };\n\n    const handleMouseDownPassword = (event) => {\n        event.preventDefault();\n    };\n    //------->Handle show password visibility End<-----------\n\n    return(\n        <div className=\"loginPage\">\n        <img src=\"/images/iphone-with-profile.jpg\" alt=\"iphone with profile\"/>\n        <div className=\"loginForm\">\n        <img src=\"/images/logo.png\" alt=\"logo\"/>\n        \n        {errorHandle && <p style={{color:\"red\"}}>{errorHandle}</p>}\n        {error && <p style={{color:\"red\"}}>{error}</p>}\n     \n        <TextField\n            required\n            id=\"outlined-required\"\n            className=\"emailInput\"\n            label=\"Enter your username\"\n            value={username}\n            onChange={({target})=>setUsername(target.value)}\n        />\n        <TextField\n            required\n            id=\"outlined-required1\"\n            className=\"emailInput\"\n            label=\"Enter your full name\"\n            value={fullName}\n            onChange={({target})=>setFullName(target.value)}\n        />\n        <TextField\n            required\n            id=\"outlined-required2\"\n            className=\"emailInput\"\n            label=\"Enter your email address\"\n            value={email}\n            onChange={({target})=>setEmail(target.value)}\n        />\n\n        <FormControl sx={{ m: 1, width: 'auto' }} variant=\"outlined\">\n            <InputLabel htmlFor=\"outlined-adornment-password\">Password</InputLabel>\n            <OutlinedInput\n            id=\"outlined-adornment-password\"\n            type={values.showPassword ? 'text' : 'password'}\n            value={password}\n            className=\"passwordInput\"\n            onChange={handleChange('password')}\n            endAdornment={\n                <InputAdornment position=\"end\">\n                <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                    edge=\"end\"\n                >\n                    {values.showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}\n                </IconButton>\n                </InputAdornment>\n            }\n            label=\"Password\"\n            />\n        </FormControl>\n        <Button disabled={isInvalid} className=\"loginButton\" variant=\"contained\" onClick={()=>{\n            registerWithEmailAndPassword(username,fullName,email,password)}\n        }\n        >Sign Up</Button>\n        <p>Already have an account? \n            <Link to={ROUTES.LOGIN}> Sign In</Link>\n        </p>\n        </div>\n        </div>\n    )\n}\nexport default Register;"],"names":["useState","username","setUsername","email","setEmail","password","setPassword","fullName","setFullName","useAuthState","auth","user","loading","error","errorHandle","setError","navigate","useNavigate","registerWithEmailAndPassword","createUserWithEmailAndPassword","then","x","addDoc","collection","db","uid","toLowerCase","following","followers","dateCreated","Date","now","updateProfile","displayName","catch","errorCode","code","errorMessage","message","console","log","useEffect","setTimeout","ROUTES","document","title","prop","isInvalid","showPassword","values","setValues","className","src","alt","style","color","required","id","label","value","onChange","target","sx","m","width","variant","htmlFor","type","event","endAdornment","position","onClick","onMouseDown","preventDefault","edge","disabled","to"],"sourceRoot":""}